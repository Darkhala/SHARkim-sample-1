<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/png" href="/images/icon logo.png">
  <title>Contact Us - Sharkim Traders</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: "Times New Roman", Times, serif, Arial, Helvetica, sans-serif; }
  </style>
</head>
<body class="bg-gray-50">

<!-- Minimal Header: Logo top-left, Cart top-right, Nav centered -->
<header class="bg-black text-white py-4">
  <div class="max-w-7xl mx-auto px-3">
    <div class="flex items-center justify-between">
      <a href="index.html" class="flex items-center gap-2">
        <img src="images/sharkim_gold_logo.png" class="h-12" alt="logo">
      </a>
      <button id="cartBtn" class="flex items-center gap-2 px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor"><path d="M7 4h-2l-1 2H1v2h2l3.6 7.6-1.4 2.4c-.2.3-.2.8 0 1.2.2.4.6.6 1 .6h12v-2H7.4c-.1 0-.2 0-.2-.1l.9-1.5h7.9c.4 0 .7-.2.9-.5l3.6-6.5c.2-.4.1-.8 0-1.1-.2-.3-.5-.5-.9-.5H6.2L5.3 4H7z"/></svg>
        Cart
        <span id="cartCount" class="bg-yellow-400 text-black text-xs font-bold px-2 py-0.5 rounded-full">0</span>
      </button>
    </div>
    <nav class="mt-3">
      <ul class="flex justify-center gap-6 text-sm">
        <li>
          <a href="index.html" class="flex items-center gap-2 hover:text-yellow-400">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor"><path d="M12 3l9 8h-3v9h-5v-6H11v6H6v-9H3l9-8z"/></svg>
            Home
          </a>
        </li>
        <li>
          <a href="shop.html" class="flex items-center gap-2 hover:text-yellow-400">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor"><path d="M7 4h-2l-1 2H1v2h2l3.6 7.6-1.4 2.4c-.2.3-.2.8 0 1.2.2.4.6.6 1 .6h12v-2H7.4c-.1 0-.2 0-.2-.1l.9-1.5h7.9c.4 0 .7-.2.9-.5l3.6-6.5c.2-.4.1-.8 0-1.1-.2-.3-.5-.5-.9-.5H6.2L5.3 4H7z"/></svg>
            Shop
          </a>
        </li>
        <li>
          <a href="contact.html" class="flex items-center gap-2 hover:text-yellow-400">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor"><path d="M21 8V7l-3 2-2-1-4 2-4-2-4 2v10h20V8zM5 17v-6l3-1.5 4 2 4-2 3 1.5V17H5zm7-11l4 2 5-3-9-4-9 4 5 3 4-2z"/></svg>
            Contact
          </a>
        </li>
      </ul>
    </nav>
  </div>
</header>

<main class="max-w-7xl mx-auto p-4">
  <h1 class="text-2xl font-bold mb-4">Contact Us</h1>

  <!-- Contact Info Cards -->
  <section class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
    <a href="https://wa.me/254704843554" target="_blank" class="bg-white border rounded p-4 shadow hover:shadow-md transition block">
      <div class="flex items-center gap-3">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-green-600" viewBox="0 0 32 32" fill="currentColor"><path d="M16 .5C7.6.5.5 7.6.5 16c0 2.8.7 5.5 2.2 7.9L0 32l8.3-2.7c2.3 1.3 5 2 7.7 2 8.4 0 15.5-7.1 15.5-15.5S24.4.5 16 .5zM16 29c-2.4 0-4.8-.6-6.9-1.8l-.5-.3-4.9 1.6 1.6-4.8-.3-.5C3.6 21 3 18.6 3 16 3 9.4 9.4 3 16 3s13 6.4 13 13-6.4 13-13 13zm7.3-9.8c-.4-.2-2.3-1.1-2.6-1.2s-.6-.2-.8.2c-.2.4-1 1.2-1.2 1.4s-.4.3-.8.1c-.4-.2-1.6-.6-3-2-1.1-1.1-1.9-2.3-2.1-2.7s0-.6.2-.8.4-.4.6-.6c.2-.2.3-.4.4-.6.1-.2 0-.5 0-.7s-.8-2-1.1-2.8c-.3-.8-.6-.7-.8-.7h-.7c-.2 0-.7.1-1.1.5s-1.4 1.4-1.4 3.4 1.4 3.9 1.6 4.1c.2.2 2.7 4.2 6.5 5.9.9.4 1.7.7 2.2.9.9.3 1.6.3 2.2.2.7-.1 2.3-1 2.6-1.9.3-.9.3-1.7.2-1.9-.1-.2-.3-.3-.7-.5z"/></svg>
        <div>
          <div class="text-sm text-gray-600">WhatsApp</div>
          <div class="font-semibold">+254 704 843 554</div>
        </div>
      </div>
    </a>
    <a href="tel:+254704843554" class="bg-white border rounded p-4 shadow hover:shadow-md transition block">
      <div class="flex items-center gap-3">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-blue-600" viewBox="0 0 24 24" fill="currentColor"><path d="M6.62 10.79a15.05 15.05 0 006.59 6.59l2.2-2.2a1 1 0 011.01-.24c1.12.37 2.33.57 3.58.57a1 1 0 011 1V21a1 1 0 01-1 1C10.07 22 2 13.93 2 3a1 1 0 011-1h4.49a1 1 0 011 1c0 1.25.2 2.46.57 3.59a1 1 0 01-.24 1.01l-2.2 2.19z"/></svg>
        <div>
          <div class="text-sm text-gray-600">Call</div>
          <div class="font-semibold">+254 704 843 554</div>
        </div>
      </div>
    </a>
    <a href="mailto:sharkimtraders97@gmail.com" class="bg-white border rounded p-4 shadow hover:shadow-md transition block">
      <div class="flex items-center gap-3">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-red-600" viewBox="0 0 24 24" fill="currentColor"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2zm8 7 8-5H4l8 5zm0 2-8-5v10h16V8l-8 5z"/></svg>
        <div>
          <div class="text-sm text-gray-600">Email</div>
          <div class="font-semibold">sharkimtraders97@gmail.com</div>
        </div>
      </div>
    </a>
    <div class="bg-white border rounded p-4 shadow">
      <div class="flex items-center gap-3">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-yellow-600" viewBox="0 0 24 24" fill="currentColor"><path d="M12 8a4 4 0 110 8 4 4 0 010-8zm0-6a2 2 0 012 2v2a2 2 0 11-4 0V4a2 2 0 012-2zm0 16a2 2 0 012 2v2h-4v-2a2 2 0 012-2zM4 12a2 2 0 012-2h2a2 2 0 110 4H6a2 2 0 01-2-2zm16 0a2 2 0 01-2 2h-2a2 2 0 110-4h2a2 2 0 012 2z"/></svg>
        <div>
          <div class="text-sm text-gray-600">Working Hours</div>
          <div class="font-semibold">Mon - Sat: 08:30 - 18:30</div>
          <div class="text-sm text-red-600">Sunday: Closed</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Form -->
  <section class="bg-white border rounded shadow p-6">
    <h2 class="text-xl font-semibold mb-4">Send us a message</h2>
    <form id="contactForm" class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label class="text-sm">Name</label>
        <input id="name" type="text" class="w-full px-3 py-2 border rounded" required>
      </div>
      <div>
        <label class="text-sm">Phone</label>
        <input id="phone" type="text" class="w-full px-3 py-2 border rounded" required>
      </div>
      <div class="md:col-span-2">
        <label class="text-sm">Location</label>
        <input id="location" type="text" class="w-full px-3 py-2 border rounded" required>
      </div>
      <div class="md:col-span-2">
        <label class="text-sm">Message</label>
        <textarea id="message" rows="5" class="w-full px-3 py-2 border rounded" placeholder="How can we help you?" required></textarea>
      </div>
      <div class="md:col-span-2 flex gap-3">
        <button type="button" id="sendWhatsApp" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">Send via WhatsApp</button>
        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Send via Email</button>
      </div>
    </form>
  </section>
</main>

<script>
// Cart (shared minimal)
let cart = JSON.parse(localStorage.getItem('cart') || '[]');
const cartBtn = document.getElementById('cartBtn');
const cartCountBadge = document.getElementById('cartCount');
function saveCart(){ localStorage.setItem('cart', JSON.stringify(cart)); }
function updateCartCount(){ if (cartCountBadge) cartCountBadge.innerText = cart.length; }
updateCartCount();

(function ensureCartDrawer(){
  if (document.getElementById('cartDrawer')) return;
  const drawer = document.createElement('div');
  drawer.id = 'cartDrawer';
  drawer.className = 'fixed top-0 right-0 w-80 max-w-full h-full bg-white shadow-lg p-4 hidden z-50';
  drawer.innerHTML = `
    <h2 class="text-lg font-bold mb-4">Your Cart</h2>
    <div id="cartItems" class="space-y-3"></div>
    <div class="mt-4 border-t pt-3">
      <p class="font-bold">Total: Ksh <span id="cartTotal">0</span></p>
      <div class="flex gap-2 mt-3">
        <button id="cartWhatsApp" class="bg-green-600 text-white px-3 py-2 rounded w-1/2">WhatsApp</button>
        <button id="cartEmail" class="bg-blue-600 text-white px-3 py-2 rounded w-1/2">Email</button>
      </div>
    </div>
    <button id="cartClose" class="absolute top-2 right-2 text-gray-500">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
      </svg>
    </button>
  `;
  document.body.appendChild(drawer);
  document.getElementById('cartClose').onclick = closeCart;
  document.getElementById('cartWhatsApp').onclick = checkoutWhatsApp;
  document.getElementById('cartEmail').onclick = checkoutEmail;
})();

function openCart(){ renderCart(); document.getElementById('cartDrawer').classList.remove('hidden'); }
function closeCart(){ document.getElementById('cartDrawer').classList.add('hidden'); }
function renderCart(){
  const wrap = document.getElementById('cartItems');
  const totalEl = document.getElementById('cartTotal');
  wrap.innerHTML = '';
  let total = 0;
  if (cart.length === 0) { wrap.innerHTML = "<p class='text-gray-500'>Your cart is empty</p>"; totalEl.innerText = 0; return; }
  cart.forEach((item, idx) => {
    total += Number(item.price) || 0;
    const row = document.createElement('div');
    row.className = 'flex gap-2 items-center border-b pb-2';
    row.innerHTML = `
      <img src="${item.image_url}" alt="${item.title}" class="w-12 h-12 object-contain">
      <div class="flex-1">
        <p class="font-bold text-sm">${item.title}</p>
        <p class="text-xs text-gray-600">Ksh ${item.price}</p>
      </div>
      <button class="text-red-600" aria-label="Remove">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6M1 7h22M10 7V5a2 2 0 114 0v2" />
        </svg>
      </button>
    `;
    row.querySelector('button').onclick = () => { cart.splice(idx, 1); saveCart(); updateCartCount(); renderCart(); };
    wrap.appendChild(row);
  });
  totalEl.innerText = total;
}

function checkoutWhatsApp(){
  if (cart.length === 0) return alert('Your cart is empty!');
  let msg = '🛒 *New Order from Sharkim Traders*\n\n';
  let total = 0; cart.forEach((item, i) => { msg += `${i+1}. ${item.title} - Ksh ${item.price}\n`; total += Number(item.price)||0; });
  msg += `\n----------------------\n💰 *Total:* Ksh ${total}\n\n`;
  msg += '📍 Please confirm delivery details.';
  window.open(`https://wa.me/+254704843554?text=${encodeURIComponent(msg)}`, '_blank');
}
function checkoutEmail(){
  if (cart.length === 0) return alert('Your cart is empty!');
  let subject = '🛒 New Cart Order - Sharkim Traders';
  let body = 'Hello Sharkim Traders,\n\nI\'d like to order the following products:\n\n';
  let total = 0; cart.forEach((item, i) => { body += `${i+1}. ${item.title} - Ksh ${item.price}\n`; total += Number(item.price)||0; });
  body += `\n----------------------\nTotal: Ksh ${total}\n\n`;
  body += 'Customer details:\nName: __________\nPhone: __________\nLocation: __________';
  window.location.href = `mailto:sharkimtraders97@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
}
if (cartBtn) cartBtn.onclick = openCart;

// Contact form actions
const form = document.getElementById('contactForm');
const nameEl = document.getElementById('name');
const phoneEl = document.getElementById('phone');
const locationEl = document.getElementById('location');
const messageEl = document.getElementById('message');

document.getElementById('sendWhatsApp').addEventListener('click', () => {
  const name = (nameEl.value||'').trim();
  const phone = (phoneEl.value||'').trim();
  const location = (locationEl.value||'').trim();
  const msg = (messageEl.value||'').trim();
  const text = `Hello Sharkim Traders,%0A%0AName: ${encodeURIComponent(name)}%0APhone: ${encodeURIComponent(phone)}%0ALocation: ${encodeURIComponent(location)}%0AMessage: ${encodeURIComponent(msg)}`;
  window.open(`https://wa.me/254704843554?text=${text}`, '_blank');
});

form.addEventListener('submit', (e) => {
  e.preventDefault();
  const name = (nameEl.value||'').trim();
  const phone = (phoneEl.value||'').trim();
  const location = (locationEl.value||'').trim();
  const msg = (messageEl.value||'').trim();
  const subject = 'Contact Inquiry';
  const body = `Name: ${name}%0APhone: ${phone}%0ALocation: ${location}%0AMessage: ${msg}`;
  window.location.href = `mailto:sharkimtraders97@gmail.com?subject=${subject}&body=${body}`;
});
</script>
</body>
</html>